Version 4
SHEET 1 1344 1564
WIRE 112 32 96 32
WIRE 192 32 192 0
WIRE 208 32 192 32
WIRE 320 32 288 32
WIRE 96 64 96 32
WIRE 320 64 320 32
WIRE 720 64 688 64
WIRE -2736 128 -2816 128
WIRE -2528 128 -2656 128
WIRE 96 160 96 144
WIRE 128 160 96 160
WIRE 320 160 320 144
WIRE 368 160 320 160
WIRE 672 160 672 128
WIRE 608 176 608 64
WIRE 608 176 592 176
WIRE 640 176 608 176
WIRE 96 192 96 160
WIRE 320 192 320 160
WIRE 720 192 720 64
WIRE 720 192 704 192
WIRE 768 192 720 192
WIRE 880 192 848 192
WIRE 624 208 608 208
WIRE 640 208 624 208
WIRE 624 224 624 208
WIRE -96 240 -144 240
WIRE 16 240 -16 240
WIRE 32 240 16 240
WIRE 416 240 384 240
WIRE 416 256 416 240
WIRE 672 256 672 224
WIRE -2448 272 -2448 256
WIRE 16 272 16 240
WIRE -320 304 -320 288
WIRE -2688 320 -2688 288
WIRE 96 320 96 288
WIRE 112 320 96 320
WIRE 208 320 192 320
WIRE 224 320 208 320
WIRE 320 320 320 288
WIRE 320 320 304 320
WIRE -2128 336 -2128 288
WIRE -2528 400 -2528 128
WIRE -2448 400 -2448 352
WIRE -2448 400 -2528 400
WIRE -2432 400 -2448 400
WIRE -1920 400 -1968 400
WIRE -1664 400 -1696 400
WIRE 208 400 208 320
WIRE -320 416 -320 384
WIRE -288 416 -320 416
WIRE -176 416 -208 416
WIRE 1024 416 1024 400
WIRE -2448 432 -2448 400
WIRE -2320 432 -2384 432
WIRE -320 432 -320 416
WIRE 912 432 912 416
WIRE 80 448 -16 448
WIRE 144 448 80 448
WIRE -2128 464 -2128 416
WIRE -2016 464 -2128 464
WIRE -1920 464 -2016 464
WIRE -1648 464 -1696 464
WIRE -1552 464 -1552 432
WIRE -1552 464 -1568 464
WIRE -1536 464 -1552 464
WIRE -1424 464 -1456 464
WIRE -1312 464 -1344 464
WIRE -2688 480 -2688 400
WIRE -2640 480 -2688 480
WIRE -2528 480 -2560 480
WIRE 80 480 80 448
WIRE -2448 496 -2448 432
WIRE -2688 512 -2688 480
WIRE -2320 512 -2320 432
WIRE -2192 512 -2240 512
WIRE 784 512 784 480
WIRE -1920 528 -1952 528
WIRE -1664 528 -1696 528
WIRE -176 528 -176 416
WIRE -160 528 -176 528
WIRE -16 528 -16 448
WIRE -16 528 -64 528
WIRE 16 528 -16 528
WIRE 208 528 208 496
WIRE -2528 544 -2528 480
WIRE -2512 544 -2528 544
WIRE -1104 544 -1216 544
WIRE -2960 560 -3008 560
WIRE -2816 560 -2816 128
WIRE -2816 560 -2880 560
WIRE -2752 560 -2816 560
WIRE -2320 576 -2320 512
WIRE -1488 576 -1488 560
WIRE -1920 592 -1936 592
WIRE -1680 592 -1696 592
WIRE -1520 592 -1568 592
WIRE -864 592 -864 560
WIRE -2816 608 -2816 560
WIRE -2128 608 -2128 560
WIRE -1440 608 -1456 608
WIRE -1424 608 -1440 608
WIRE -1312 608 -1344 608
WIRE -1216 608 -1216 544
WIRE -1216 608 -1232 608
WIRE -1200 608 -1216 608
WIRE -1104 608 -1104 544
WIRE -1104 608 -1120 608
WIRE -1088 608 -1104 608
WIRE -1008 608 -1024 608
WIRE -976 608 -1008 608
WIRE -944 608 -944 576
WIRE -944 608 -976 608
WIRE -896 608 -944 608
WIRE -112 608 -112 592
WIRE 80 608 80 576
WIRE 784 608 784 592
WIRE 848 608 784 608
WIRE -2448 624 -2448 592
WIRE -1520 624 -1536 624
WIRE -784 624 -832 624
WIRE -736 624 -784 624
WIRE 784 624 784 608
WIRE 848 624 848 608
WIRE -2688 640 -2688 608
WIRE -1680 640 -1680 592
WIRE -1680 640 -1696 640
WIRE -1472 640 -1488 640
WIRE -896 640 -928 640
WIRE -1568 656 -1568 592
WIRE -1440 656 -1440 608
WIRE -1440 656 -1568 656
WIRE -2320 672 -2320 640
WIRE -864 672 -864 656
WIRE 944 672 944 656
WIRE -2816 688 -2816 672
WIRE -1936 688 -1936 592
WIRE -1888 688 -1936 688
WIRE -1664 688 -1664 528
WIRE -1008 688 -1008 608
WIRE -1008 688 -1664 688
WIRE -1616 704 -1728 704
WIRE -928 704 -928 640
WIRE -784 704 -784 624
WIRE -784 704 -928 704
WIRE -288 704 -320 704
WIRE -176 704 -176 528
WIRE -176 704 -208 704
WIRE 784 720 784 704
WIRE -1936 768 -1936 688
WIRE -1824 768 -1856 768
WIRE -1728 768 -1728 704
WIRE -1728 768 -1744 768
WIRE -1712 768 -1728 768
WIRE -1616 768 -1616 704
WIRE -1616 768 -1632 768
WIRE -1600 768 -1616 768
WIRE -976 768 -976 608
WIRE -976 768 -1536 768
WIRE -1616 880 -1728 880
WIRE -1952 928 -1952 528
WIRE -1936 928 -1952 928
WIRE -1824 928 -1856 928
WIRE -1728 928 -1728 880
WIRE -1728 928 -1744 928
WIRE -1712 928 -1728 928
WIRE -1616 928 -1616 880
WIRE -1616 928 -1632 928
WIRE -1600 928 -1616 928
WIRE -976 928 -976 768
WIRE -976 928 -1536 928
FLAG 16 352 0
FLAG 192 0 V+
FLAG -144 240 Signal
FLAG -112 608 0
FLAG 80 608 V-
FLAG 208 528 V-
FLAG 672 128 V+
FLAG 672 256 V-
FLAG 128 160 VInvert
FLAG 368 160 VInvert2
FLAG 592 176 VInvert
FLAG 608 208 VInvert2
FLAG 624 304 0
FLAG 880 192 VOut
FLAG 416 336 0
FLAG 848 624 0
FLAG 944 752 0
FLAG 912 512 0
FLAG 1024 496 0
FLAG 784 480 V+
FLAG 784 720 V-
FLAG 944 656 Signal
FLAG 912 416 VControl
FLAG 1024 400 VBias
FLAG -320 512 0
FLAG -320 288 VControl
FLAG -320 704 VBias
FLAG -1968 400 0
FLAG -1664 400 VControl
FLAG -2128 288 VControl
FLAG -2128 608 0
FLAG -2320 672 0
FLAG -2448 624 0
FLAG -2688 640 0
FLAG -3008 560 EG_In
FLAG -2688 288 VControl
FLAG -2448 256 VControl
FLAG -2816 688 0
FLAG -1312 464 VControl
FLAG -1760 640 0
FLAG -736 624 Envelope
FLAG -2432 400 Gate
FLAG -1888 688 Gate
FLAG -864 560 V+
FLAG -864 672 V-
FLAG -1488 560 V+
FLAG -1472 640 V-
FLAG -1552 432 DIS
FLAG -1536 624 DIS
FLAG -944 512 0
FLAG -2016 464 TRIG
SYMBOL res 80 48 R0
SYMATTR InstName R1
SYMATTR Value 4.7k
SYMBOL res 304 48 R0
SYMATTR InstName R2
SYMATTR Value 4.7k
SYMBOL res 208 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {1k*b}
SYMBOL res 304 16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 41 VTop 2
SYMATTR InstName R4
SYMATTR Value {(1-b)*1k}
SYMBOL npn 32 192 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL npn 384 192 M0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res 0 224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res 32 368 R180
WINDOW 0 38 60 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 470
SYMBOL npn 144 400 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL npn 16 480 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL pnp -64 592 M270
SYMATTR InstName Q5
SYMATTR Value 2N3906
SYMBOL res -192 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 33 57 VTop 2
SYMATTR InstName R8
SYMATTR Value 22k
SYMBOL Opamps\\UniversalOpamp2 672 192 R0
SYMATTR InstName U2
SYMBOL res 704 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 33k
SYMBOL res 608 208 R0
WINDOW 0 -55 47 Left 2
WINDOW 3 -54 76 Left 2
SYMATTR InstName R10
SYMATTR Value 33k
SYMBOL res 864 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 4.7k
SYMBOL res 400 240 R0
SYMATTR InstName R12
SYMATTR Value 470
SYMBOL voltage 784 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage 784 608 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage 944 656 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 5 5k)
SYMBOL voltage 912 416 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 15
SYMBOL voltage 1024 400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value SINE({mag} {mag} 200)
SYMBOL res -336 288 R0
WINDOW 0 -57 47 Left 2
WINDOW 3 40 45 Left 2
SYMATTR InstName R13
SYMATTR Value {100k*d}
SYMBOL res -336 416 R0
WINDOW 0 -61 67 Left 2
WINDOW 3 -161 39 Left 2
SYMATTR InstName R14
SYMATTR Value {(1-d)*100k}
SYMBOL res 208 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 10
SYMBOL res 320 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 10
SYMBOL res -192 688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 22k
SYMBOL npn -2192 464 R0
SYMATTR InstName Q7
SYMATTR Value BC547C
SYMBOL res -2144 320 R0
SYMATTR InstName R17
SYMATTR Value 4.7k
SYMBOL res -2224 496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL diode -2336 640 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL cap -2384 416 R90
WINDOW 0 55 -13 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL npn -2512 496 R0
SYMATTR InstName Q8
SYMATTR Value BC547C
SYMBOL res -2544 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 22k
SYMBOL npn -2752 512 R0
SYMATTR InstName Q9
SYMATTR Value BC547C
SYMBOL res -2704 304 R0
SYMATTR InstName R28
SYMATTR Value 4.7k
SYMBOL diode -2800 672 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL res -2864 544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 10k
SYMBOL res -1840 752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R30
SYMATTR Value 220
SYMBOL res -1728 752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R31
SYMATTR Value {2M2*RST}
SYMBOL res -1616 752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 57 54 VTop 2
SYMATTR InstName R32
SYMATTR Value {(1-RST)*2M2}
SYMBOL res -1840 912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R33
SYMATTR Value 220
SYMBOL res -1728 912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R34
SYMATTR Value {2M2*ATK}
SYMBOL res -1616 912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 60 59 VTop 2
SYMATTR InstName R35
SYMATTR Value {(1-ATK)*2M2}
SYMBOL diode -1536 752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL diode -1600 944 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL res -1552 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R36
SYMATTR Value {10k*Sustain}
SYMBOL res -1440 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 64 38 VTop 2
SYMATTR InstName R37
SYMATTR Value {(1-Sustain)*10k}
SYMBOL res -1328 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R38
SYMATTR Value 4.7k
SYMBOL Opamps\\UniversalOpamp2 -1488 608 R0
SYMATTR InstName U3
SYMBOL res -1328 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R39
SYMATTR Value 220
SYMBOL res -1216 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R40
SYMATTR Value {2M2*DECAY}
SYMBOL res -1104 592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 59 56 VTop 2
SYMATTR InstName R41
SYMATTR Value {(1-2M2)*DECAY}
SYMBOL diode -1024 592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL cap -1696 624 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10n
SYMBOL Opamps\\UniversalOpamp2 -864 624 M180
SYMATTR InstName U4
SYMBOL res -2464 256 R0
SYMATTR InstName R25
SYMATTR Value 4.7k
SYMBOL cap -960 512 R0
SYMATTR InstName C1
SYMATTR Value 2ľ2
SYMBOL res -2640 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 1Meg
SYMBOL Misc\\DIP8 -1808 496 R0
SYMATTR InstName ICM7555
SYMATTR SpiceModel ICM7555
TEXT 232 -40 Left 2 !.param b = 0.5
TEXT 1024 552 Left 2 !.param mag = 2.5
TEXT 560 608 Left 2 !.tran 100m
TEXT -408 144 Left 2 !.param d = 0.3
TEXT -1856 264 Left 2 !.param DECAY = 0.5
TEXT -1832 224 Left 2 !.param ATK = 0.5
TEXT -1832 192 Left 2 !.param RST = 0.5
TEXT -1864 296 Left 2 !.param Sustain = 0.5
TEXT -1976 144 Left 2 !.include C:\\Users\\Asus\\Desktop\\Spice_tutorial\\Op Amp\\ICM7555.lib
